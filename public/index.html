<!doctype html>

<html lang="en">
<head>
<meta charset="utf-8">

	<title>Querweave</title>
	<meta name="description" content="Querweave">
	<meta name="author" content="shenwilly">
	
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="
	sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	
	<script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha256-pasqAKBDmFT4eHoN2ndd6lN370kFiGUFyTiUHWhU7k8=" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="
	sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

	<script src="https://unpkg.com/arweave/bundles/web.bundle.min.js"></script>

	<script src="view.js"></script>
	<script src="login.js"></script>
	<script src="get_questions.js"></script>
	<script src="get_answers.js"></script>
	<script src="ask_question.js"></script>
	<script src="answer_question.js"></script>

	<style type="text/css">
		.file-input{
			height: 200px;
			border: 2px dashed #62666f;
			text-align: center;
			display: flex;
			align-items: center;
			justify-content: center;
			position: relative;
			margin: auto;
			max-width: 300px;
		}
		.file-input input[type=file]{
			opacity: 0;
			position: absolute;
			background: none;
			width: 100%;
			height: 100%;
		}
		.question-card {
			cursor: pointer;
		}
	</style>
</head>

<body>
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark static-top">
		<div class="container flex">
			<a class="navbar-brand" href="#" id="home-icon">Querweave</a></button>
			<span class="navbar-text" id="public-address">
				
			</span>
			<span class="navbar-item">
				<button type="button" class="btn btn-success not-logged-in" data-toggle="modal" data-target="#loginModal">Login to Ask Question
				<button type="button" class="btn btn-primary logged-in" data-toggle="modal" data-target="#askQuestionModal" style="display: none">Ask a Question</button>
			</span>
		</div>
	</nav>

	<div class="container" id="index-page">
		<div class="row mt-2">
			<div class="col-lg-12" id="question-card-list">

			</div>
		</div>
	</div>

	<div class="container" id="detail-page" style="display: none">
		<div class="row mt-4">
			<div class="col-lg-12">
				<h3>What is Arweave?</h3>
				<p>What is it used for? What differs it from Bitcoin?</p>
				<hr>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-12" id="answer-card-list">
				<!-- <div class="card mt-2 answer-card">
				  <div class="card-header">
					Andrew <span class="font-weight-light font-italic text-muted">- 23 minutes ago</span>
				  </div>
				  <div class="card-body">
					<p>
						Arweave connects those with disk space to spare, with others that need dependable data storage. This system offers unparalleled levels of data replication and security for users, as well as financial incentives for participants in the network, all while cutting out the middleman.
					</p>
				  </div>
				</div>
				<div class="card mt-2 answer-card">
				  <div class="card-header">
					Andrew <span class="font-weight-light font-italic text-muted">- 23 minutes ago</span>
				  </div>
				  <div class="card-body">
					<p>
						Arweave connects those with disk space to spare, with others that need dependable data storage. This system offers unparalleled levels of data replication and security for users, as well as financial incentives for participants in the network, all while cutting out the middleman.
					</p>
				  </div>
				</div> -->
			</div>
		</div>
		<div class="row mb-4">
			<div class="col-lg-12 not-logged-in">
				<hr>
				<button type="button" class="btn btn-success login-btn" data-toggle="modal" data-target="#loginModal">Login to Answer</button>
			</div>
			<div class="col-lg-12 logged-in" id="answer-form" style="display: none">
				<hr>
				<h5>Have an answer?</h5>
				<textarea class="form-control" style="min-width: 100%" id="input_answer"></textarea>
				<button type="button" class="btn btn-success mt-3" onclick="answer_question()">Post Answer!</button>
			</div>
		</div>
	</div>

	<div id="question-card-template" style="display: none">
		<div class="card mt-2 question-card" card-id="[id]">
		  <div class="card-body">
			<h5 class="card-title">[question]</h5>
			<p style="white-space: pre-wrap;" class="card-text">[description]</p>
		  </div>
		</div>
	</div>

	<div id="answer-card-template" style="display: none">
		<div class="card mt-2 answer-card" card-id="[id]">
			<div class="card-header">
				<span class="author-name">[author]</span> <span class="answer-date font-weight-light font-italic text-muted">- [datetime]</span>
			</div>
			<div class="card-body">
				<p style="white-space: pre-wrap;">[answer]</p>
			</div>
		</div>
	</div>

	<div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-labelledby="loginModal" aria-hidden="true">
	  <div class="modal-dialog modal-dialog-centered" role="document">
		<div class="modal-content">
		  <div class="modal-header">
			<h5 class="modal-title">Arweave Login</h5>
			<button type="button" class="close" data-dismiss="modal" aria-label="Close">
			  <span aria-hidden="true">&times;</span>
			</button>
		  </div>
		  <div class="modal-body">
			<div class="container">
				<div class="row">
					<div class="col-lg-12">
						<div class="file-input">
							<input type="file" id="file" onchange="login(this.files)">
							<div id="desc">Drop a keyfile to login</div>
						</div>
					</div>
				</div>
			</div>
		  </div>
		</div>
	  </div>
	</div>

	<div class="modal fade" id="askQuestionModal" tabindex="-1" role="dialog" aria-labelledby="askQuestionModal" aria-hidden="true">
	  <div class="modal-dialog modal-lg" role="document">
	    <div class="modal-content">
	      <div class="modal-header">
	        <h5 class="modal-title">Ask Question</h5>
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
	          <span aria-hidden="true">&times;</span>
	        </button>
	      </div>
	      <div class="modal-body">
      	    <label for="input_question">Question</label>
	        <input type="text" class="form-control" id="input_question" placeholder="Enter your question here">
      	    <label for="input_description" class="mt-4">Description</label>
			<textarea class="form-control" id="input_description" placeholder="Enter additional description here" style="min-width: 100%"></textarea>
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
	        <button type="button" class="btn btn-primary" onclick="ask_question()">Submit Question</button>
	      </div>
	    </div>
	  </div>
	</div>

	<script>
		var arweave = Arweave.init({host: 'arweave.net', port: 443, protocol: 'https'});
		var versionNumber = '0.0.1';
		get_questions();
	</script>
</body>
</html>